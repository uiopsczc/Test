---@class UITestPanel:UIBackgroundPanel
local UITestPanel = Class("UITestPanel", UIBackgroundPanel)

function UITestPanel:Init(...)
	UITestPanel.super.Init(self, ...)
	self.graphicComponent:SetPrefabPath("Assets/Resources/Common/UI/Prefab/UITestPanel.prefab")
end

function UITestPanel:InitGameObjectChildren()
	UITestPanel.super.InitGameObjectChildren(self)
	self.gmBtn = self.frameTransform:FindComponentInChildren(typeof(CS.UnityEngine.UI.Button), "gm_btn")
	self.testBtn = self.frameTransform:FindComponentInChildren(typeof(CS.UnityEngine.UI.Button), "test_btn")
	self.combatTestBtn = self.frameTransform:FindComponentInChildren(typeof(CS.UnityEngine.UI.Button), "combat_test_btn")

end

function UITestPanel:AddUnityEvents()
	UITestPanel.super.AddUnityEvents(self)
	self:RegisterOnClick(self.gmBtn, function()
		global.client.uiManager:CreateChildPanel("UIGMPanel", require("LuaCat.UI.Common.UIGMPanelBase.Test.UIGMTestPanel"))
	end)
	self:RegisterOnClick(self.testBtn, function()
		self:Test()
	end)
	self:RegisterOnClick(self.combatTestBtn,
		function()
			global.client:GoTo(
				CombatStageTest,
				0.1,
				function()
					global.client.uiManager.uiLoadingPanel:Reset()
				end)
		end)
end

function UITestPanel:Test()
	log("lua Test")
	--require("luacat.effect.test.EffectTest").Test()
end

return UITestPanel