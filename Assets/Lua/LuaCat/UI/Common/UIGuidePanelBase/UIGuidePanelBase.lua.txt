local UIGuidePanelBase_ArrowItem = require("LuaCat.UI.Common.UIGuidePanelBase.UIGuidePanelBase_ArrowItem")
local UIGuidePanelBase_BgItem = require("LuaCat.UI.Common.UIGuidePanelBase.UIGuidePanelBase_BgItem")
local UIGuidePanelBase_DescItem = require("LuaCat.UI.Common.UIGuidePanelBase.UIGuidePanelBase_DescItem")
local UIGuidePanelBase_DialogItem = require("LuaCat.UI.Common.UIGuidePanelBase.UIGuidePanelBase_DialogItem")
local UIGuidePanelBase_FingerItem = require("LuaCat.UI.Common.UIGuidePanelBase.UIGuidePanelBase_FingerItem")

---@class UIGuidePanelBase:UIPopUpPanel
local UIGuidePanelBase = Class("UIGuidePanelBase", UIPopUpPanel)

function UIGuidePanelBase:Init()
	UIGuidePanelBase.super.Init(self)
	self.graphicComponent:SetPrefabPath("Assets/Resources/Common/UI/Prefab/UIGuidePanelBase.prefab")
end

function UIGuidePanelBase:InitGameObjectChildren()
	UIGuidePanelBase.super.InitGameObjectChildren(self)
	self.bgPrefab = self.frameTransform:Find("bg").gameObject
	self.dialogRightPrefab = self.frameTransform:Find("dialog_right").gameObject
	self.dialogLeftPrefab = self.frameTransform:Find("dialog_left").gameObject
	self.fingerPrefab = self.frameTransform:Find("finger").gameObject
	self.arrowPrefab = self.frameTransform:Find("arrow").gameObject
	self.descPrefab = self.frameTransform:Find("desc").gameObject

	---@type UIGuidePanelBase_BgItem
	self.bgItem = self:AddChild(nil, UIGuidePanelBase_BgItem, self.bgPrefab)
end

---@return UIGuidePanelBase_DialogItem
function UIGuidePanelBase:CreateDialogLeftItem()
	local clone = GameObject.Instantiate(self.dialogLeftPrefab, self.graphicComponent.transform)
	clone:SetActive(true)
	return self:AddChild(nil, UIGuidePanelBase_DialogItem, clone)
end

---@return UIGuidePanelBase_DialogItem
function UIGuidePanelBase:CreateDialogRightItem()
	local clone = GameObject.Instantiate(self.dialogRightPrefab, self.graphicComponent.transform)
	clone:SetActive(true)
	return self:AddChild(nil, UIGuidePanelBase_DialogItem, clone)
end

---@return UIGuidePanelBase_FingerItem
function UIGuidePanelBase:CreateFingerItem()
	local clone = GameObject.Instantiate(self.fingerPrefab, self.graphicComponent.transform)
	clone:SetActive(true)
	return self:AddChild(nil, UIGuidePanelBase_FingerItem, clone)
end

---@return UIGuidePanelBase_ArrowItem
function UIGuidePanelBase:CreateArrowItem()
	local clone = GameObject.Instantiate(self.arrowPrefab, self.graphicComponent.transform)
	clone:SetActive(true)
	return self:AddChild(nil, UIGuidePanelBase_ArrowItem, clone)
end

---@return UIGuidePanelBase_DescItem
function UIGuidePanelBase:CreateDescItem()
	local clone = GameObject.Instantiate(self.descPrefab, self.graphicComponent.transform)
	clone:SetActive(true)
	return self:AddChild(nil, UIGuidePanelBase_DescItem, clone)
end

return UIGuidePanelBase