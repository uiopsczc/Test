---@class ResLoadComponent:GameComponent
local ResLoadComponent = Class("ResLoadComponent", GameComponent)

---@param resLoad ResLoad
function ResLoadComponent:Init(resLoad)
	ResLoadComponent.super.Init(self)
	self.resLoad = resLoad
end

function ResLoadComponent:IsAllLoadDone()
	return self.resLoad:IsAllLoadDone()
end

---@param onAllLoadDoneCallback fun()
function ResLoadComponent:CheckIsAllLoadDone(onAllLoadDoneCallback)
	self:StartCoroutine(nil, function()
		self:WaitUntil(function()
			return self:IsAllLoadDone()
		end)
		if onAllLoadDoneCallback then
			onAllLoadDoneCallback()
		end
	end)
end

---@param onLoadSuccessCallback fun(assetCat:CS.CsCat.AssetCat)
---@param onLoadFailCallback fun(assetCat:CS.CsCat.AssetCat)
---@param onLoadDoneCallback fun(assetCat:CS.CsCat.AssetCat)
---@param callbackCause any
function ResLoadComponent:GetOrLoadAsset(assetPath, onLoadSuccessCallback, onLoadFailCallback, onLoadDoneCallback, callbackCause)
	return self.resLoad:GetOrLoadAsset(assetPath, onLoadSuccessCallback, onLoadFailCallback, onLoadDoneCallback, callbackCause)
end

---@param assetCat CS.CsCat.AssetCat
function ResLoadComponent:CancelLoadCallback(assetCat, callbackCause)
	self.resLoad:CancelLoadCallback(assetCat, callbackCause)
end

---@param assetCat CS.CsCat.AssetCat
function ResLoadComponent:CancelLoadAllCallbacks(assetCat)
	self.resLoad:CancelLoadAllCallbacks(assetCat)
end

function ResLoadComponent:__Reset()
	ResLoadComponent.super.__Reset(self)
	self.resLoad:Reset()
end

function ResLoadComponent:__Destroy()
	ResLoadComponent.super.__Destroy(self)
	self.resLoad:Destroy()
end

return ResLoadComponent