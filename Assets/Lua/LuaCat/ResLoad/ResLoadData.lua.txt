---@class ResLoadData
local ResLoadData = Class("ResLoadData")

function ResLoadData:Init(assetCat)
	---@type CS.CsCat.AssetCat
	self.assetCat = assetCat
	self.assetCat:AddRefCount()
	self.refCount = 0
end

function ResLoadData:AddRefCount()
	self.refCount = self.refCount + 1
end

function ResLoadData:SubRefCount(subValue)
	subValue = subValue or 1
	subValue = math.abs(subValue)
	self.refCount = self.refCount - subValue
end

function ResLoadData:Destroy()
	self.refCount = 0
	self.assetCat:SubRefCount(1, true)
end

function ResLoadData:IsLoadDone()
	if self.isLoadDone then
		return true
	end
	if self.assetCat:IsLoadDone() then
		self.isLoadDone = true
		return true
	else
		return false
	end
end

return ResLoadData